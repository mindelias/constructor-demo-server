{
  "info": {
    "name": "Constructor Demo Server - E-Commerce API",
    "description": "Complete API collection for Constructor Demo Server with all endpoints, test cases, and validation scripts.\n\n## Getting Started\n1. Import this collection into Postman\n2. Set up environment variables (base_url, auth_token)\n3. Run 'Auth -> Register' or 'Auth -> Login' to get a token\n4. Token will be automatically saved to environment\n5. Start testing other endpoints\n\n## Test Data\n- Email: john@example.com\n- Password: password123\n\n## Modules\n- Authentication (Register, Login, Profile)\n- Products (List, Search, Filter, CRUD)\n- Orders (Create, View, Update)\n- Recommendations (Personalized)\n- Health Check",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "constructor-demo-v1"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register User - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response has success=true\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Response contains token\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.token).to.be.a('string');",
                  "    pm.expect(jsonData.data.token.length).to.be.above(0);",
                  "    ",
                  "    // Save token to environment",
                  "    pm.environment.set(\"auth_token\", jsonData.data.token);",
                  "});",
                  "",
                  "pm.test(\"Response contains user object\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.user).to.be.an('object');",
                  "    pm.expect(jsonData.data.user.id).to.exist;",
                  "    pm.expect(jsonData.data.user.name).to.exist;",
                  "    pm.expect(jsonData.data.user.email).to.exist;",
                  "    ",
                  "    // Save user ID",
                  "    pm.environment.set(\"user_id\", jsonData.data.user.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"testuser{{$timestamp}}@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            },
            "description": "Register a new user with name, email, and password. Returns JWT token and user object."
          },
          "response": []
        },
        {
          "name": "Register User - Email Already Exists",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response has success=false\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(false);",
                  "});",
                  "",
                  "pm.test(\"Error message indicates email already registered\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.error).to.include('already registered');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            },
            "description": "Attempt to register with an existing email. Should return 400 error."
          },
          "response": []
        },
        {
          "name": "Register User - Validation Errors",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response contains validation errors\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(false);",
                  "    pm.expect(jsonData.errors).to.be.an('array');",
                  "    pm.expect(jsonData.errors.length).to.be.above(0);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"\",\n  \"email\": \"invalid-email\",\n  \"password\": \"123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            },
            "description": "Submit invalid data to test validation. Should return validation errors."
          },
          "response": []
        },
        {
          "name": "Login - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has success=true\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"Response contains token\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.token).to.be.a('string');",
                  "    ",
                  "    // Save token to environment",
                  "    pm.environment.set(\"auth_token\", jsonData.data.token);",
                  "});",
                  "",
                  "pm.test(\"Response contains user with preferences\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.user).to.be.an('object');",
                  "    pm.expect(jsonData.data.user.preferences).to.exist;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            },
            "description": "Login with valid credentials. Use pre-seeded user: john@example.com / password123"
          },
          "response": []
        },
        {
          "name": "Login - Invalid Credentials",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Response has success=false\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(false);",
                  "});",
                  "",
                  "pm.test(\"Error message indicates invalid credentials\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.error).to.include('Invalid credentials');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john@example.com\",\n  \"password\": \"wrongpassword\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            },
            "description": "Attempt login with wrong password. Should return 401 unauthorized."
          },
          "response": []
        },
        {
          "name": "Get Current User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains user data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.be.an('object');",
                  "    pm.expect(jsonData.data._id).to.exist;",
                  "    pm.expect(jsonData.data.email).to.exist;",
                  "    pm.expect(jsonData.data.preferences).to.exist;",
                  "    pm.expect(jsonData.data.viewHistory).to.be.an('array');",
                  "    pm.expect(jsonData.data.purchaseHistory).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/me",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "me"]
            },
            "description": "Get current authenticated user's profile information."
          },
          "response": []
        },
        {
          "name": "Get Current User - Unauthorized",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Response indicates no token provided\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(false);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/auth/me",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "me"]
            },
            "description": "Attempt to get user profile without authentication token."
          },
          "response": []
        },
        {
          "name": "Update User Preferences",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Preferences updated successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.preferences).to.exist;",
                  "    pm.expect(jsonData.data.preferences.categories).to.be.an('array');",
                  "    pm.expect(jsonData.data.preferences.priceRange).to.exist;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"categories\": [\"Electronics\", \"Home & Kitchen\", \"Books\"],\n  \"priceRange\": {\n    \"min\": 20,\n    \"max\": 150\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/preferences",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "preferences"]
            },
            "description": "Update user's category preferences and price range."
          },
          "response": []
        }
      ],
      "description": "User authentication endpoints including registration, login, and profile management."
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "Get All Products",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains products array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"Response contains metadata\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.metadata).to.exist;",
                  "    pm.expect(jsonData.metadata.page).to.exist;",
                  "    pm.expect(jsonData.metadata.limit).to.exist;",
                  "    pm.expect(jsonData.metadata.total).to.exist;",
                  "    pm.expect(jsonData.metadata.totalPages).to.exist;",
                  "});",
                  "",
                  "pm.test(\"Products have required fields\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data.length > 0) {",
                  "        var product = jsonData.data[0];",
                  "        pm.expect(product._id).to.exist;",
                  "        pm.expect(product.name).to.exist;",
                  "        pm.expect(product.price).to.exist;",
                  "        pm.expect(product.category).to.exist;",
                  "        ",
                  "        // Save first product ID for later tests",
                  "        pm.environment.set(\"product_id\", product._id);",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/products",
              "host": ["{{base_url}}"],
              "path": ["api", "products"]
            },
            "description": "Get all products with default pagination (page 1, limit 20)."
          },
          "response": []
        },
        {
          "name": "Get Products - Filter by Category",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"All products match selected category\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    jsonData.data.forEach(function(product) {",
                  "        pm.expect(product.category).to.eql('Electronics');",
                  "    });",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/products?category=Electronics",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                {
                  "key": "category",
                  "value": "Electronics"
                }
              ]
            },
            "description": "Filter products by category. Available: Electronics, Clothing, Home & Kitchen, Sports, Books, Home & Garden, Accessories."
          },
          "response": []
        },
        {
          "name": "Get Products - Filter by Price Range",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"All products within price range\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    jsonData.data.forEach(function(product) {",
                  "        pm.expect(product.price).to.be.at.least(50);",
                  "        pm.expect(product.price).to.be.at.most(100);",
                  "    });",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/products?minPrice=50&maxPrice=100",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                {
                  "key": "minPrice",
                  "value": "50"
                },
                {
                  "key": "maxPrice",
                  "value": "100"
                }
              ]
            },
            "description": "Filter products by price range ($50-$100)."
          },
          "response": []
        },
        {
          "name": "Get Products - Search by Text",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Results contain search term\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "    // At least one product should match",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/products?search=wireless",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                {
                  "key": "search",
                  "value": "wireless"
                }
              ]
            },
            "description": "Search products by text (searches in name and tags)."
          },
          "response": []
        },
        {
          "name": "Get Products - Combined Filters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/products?category=Electronics&minPrice=50&maxPrice=200&search=wireless&page=1&limit=10&sort=-price",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                {
                  "key": "category",
                  "value": "Electronics"
                },
                {
                  "key": "minPrice",
                  "value": "50"
                },
                {
                  "key": "maxPrice",
                  "value": "200"
                },
                {
                  "key": "search",
                  "value": "wireless"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "sort",
                  "value": "-price",
                  "description": "Sort by price descending. Options: -price, price, -createdAt, createdAt, -stats.rating"
                }
              ]
            },
            "description": "Combine multiple filters: category, price range, search, pagination, and sorting."
          },
          "response": []
        },
        {
          "name": "Get Single Product",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains product details\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.be.an('object');",
                  "    pm.expect(jsonData.data._id).to.exist;",
                  "    pm.expect(jsonData.data.name).to.exist;",
                  "    pm.expect(jsonData.data.description).to.exist;",
                  "    pm.expect(jsonData.data.price).to.exist;",
                  "    pm.expect(jsonData.data.inventory).to.exist;",
                  "    pm.expect(jsonData.data.stats).to.exist;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "{{product_id}}"]
            },
            "description": "Get detailed information about a specific product. View count increments automatically."
          },
          "response": []
        },
        {
          "name": "Get Single Product - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Error message indicates product not found\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(false);",
                  "    pm.expect(jsonData.error).to.include('not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/products/invalid-id-12345",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "invalid-id-12345"]
            },
            "description": "Attempt to get a product with invalid ID."
          },
          "response": []
        },
        {
          "name": "Create Product",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Product created successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data._id).to.exist;",
                  "    pm.expect(jsonData.data.name).to.eql('Premium Gaming Keyboard');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Premium Gaming Keyboard\",\n  \"description\": \"Mechanical keyboard with RGB lighting and programmable keys\",\n  \"price\": 129.99,\n  \"category\": \"Electronics\",\n  \"tags\": [\"gaming\", \"keyboard\", \"mechanical\", \"rgb\"],\n  \"images\": [\"https://picsum.photos/seed/keyboard1/400/400\"],\n  \"inventory\": 25,\n  \"features\": {\n    \"switches\": \"Cherry MX Blue\",\n    \"backlighting\": \"RGB\",\n    \"programmable\": true\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/products",
              "host": ["{{base_url}}"],
              "path": ["api", "products"]
            },
            "description": "Create a new product (requires authentication)."
          },
          "response": []
        },
        {
          "name": "Create Product - Validation Errors",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response contains validation errors\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(false);",
                  "    pm.expect(jsonData.errors).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"\",\n  \"price\": -10,\n  \"inventory\": -5\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/products",
              "host": ["{{base_url}}"],
              "path": ["api", "products"]
            },
            "description": "Attempt to create product with invalid data."
          },
          "response": []
        },
        {
          "name": "Search Autocomplete",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains suggestions\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "    pm.expect(jsonData.data.length).to.be.at.most(10);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/products/search/autocomplete?q=wire",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "search", "autocomplete"],
              "query": [
                {
                  "key": "q",
                  "value": "wire"
                }
              ]
            },
            "description": "Get search suggestions as user types (minimum 2 characters, max 10 results)."
          },
          "response": []
        },
        {
          "name": "Get Trending Products",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains trending products\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "    pm.expect(jsonData.data.length).to.be.at.most(20);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/products/trending/now",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "trending", "now"]
            },
            "description": "Get trending products based on views and purchases (cached for 30 minutes)."
          },
          "response": []
        }
      ],
      "description": "Product management endpoints including listing, filtering, search, and CRUD operations."
    },
    {
      "name": "Orders",
      "item": [
        {
          "name": "Create Order - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Order created successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data._id).to.exist;",
                  "    pm.expect(jsonData.data.status).to.eql('pending');",
                  "    pm.expect(jsonData.data.totalAmount).to.exist;",
                  "    ",
                  "    // Save order ID for later tests",
                  "    pm.environment.set(\"order_id\", jsonData.data._id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"productId\": \"{{product_id}}\",\n      \"quantity\": 2\n    }\n  ],\n  \"shippingAddress\": {\n    \"street\": \"123 Main Street\",\n    \"city\": \"San Francisco\",\n    \"state\": \"CA\",\n    \"zipCode\": \"94102\",\n    \"country\": \"USA\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/orders",
              "host": ["{{base_url}}"],
              "path": ["api", "orders"]
            },
            "description": "Create a new order with items and shipping address. Requires authentication."
          },
          "response": []
        },
        {
          "name": "Create Order - Validation Errors",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response contains validation errors\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(false);",
                  "    pm.expect(jsonData.errors).to.be.an('array');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [],\n  \"shippingAddress\": {\n    \"street\": \"123 Main St\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/orders",
              "host": ["{{base_url}}"],
              "path": ["api", "orders"]
            },
            "description": "Attempt to create order with invalid data (empty items, incomplete address)."
          },
          "response": []
        },
        {
          "name": "Create Order - Insufficient Inventory",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Error indicates insufficient inventory\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(false);",
                  "    pm.expect(jsonData.error).to.include('Insufficient inventory');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"productId\": \"{{product_id}}\",\n      \"quantity\": 10000\n    }\n  ],\n  \"shippingAddress\": {\n    \"street\": \"123 Main Street\",\n    \"city\": \"San Francisco\",\n    \"state\": \"CA\",\n    \"zipCode\": \"94102\",\n    \"country\": \"USA\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/orders",
              "host": ["{{base_url}}"],
              "path": ["api", "orders"]
            },
            "description": "Attempt to order more items than available in inventory."
          },
          "response": []
        },
        {
          "name": "Get My Orders",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains orders\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "    pm.expect(jsonData.metadata).to.exist;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/my-orders?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "my-orders"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get current user's order history with pagination."
          },
          "response": []
        },
        {
          "name": "Get Order by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains order details\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data._id).to.exist;",
                  "    pm.expect(jsonData.data.items).to.be.an('array');",
                  "    pm.expect(jsonData.data.shippingAddress).to.exist;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/{{order_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "{{order_id}}"]
            },
            "description": "Get detailed information about a specific order."
          },
          "response": []
        },
        {
          "name": "Get Order by ID - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Error indicates order not found\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(false);",
                  "    pm.expect(jsonData.error).to.include('not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/invalid-order-id-12345",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "invalid-order-id-12345"]
            },
            "description": "Attempt to get order with invalid ID or user doesn't own."
          },
          "response": []
        },
        {
          "name": "Update Order Status",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Order status updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.status).to.exist;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"processing\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/orders/{{order_id}}/status",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "{{order_id}}", "status"]
            },
            "description": "Update order status. Valid statuses: pending, processing, shipped, delivered, cancelled."
          },
          "response": []
        },
        {
          "name": "Update Order Status - Invalid",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Error indicates invalid status\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(false);",
                  "    pm.expect(jsonData.error).to.include('Invalid status');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"invalid-status\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/orders/{{order_id}}/status",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "{{order_id}}", "status"]
            },
            "description": "Attempt to set invalid order status."
          },
          "response": []
        }
      ],
      "description": "Order management endpoints including creation, viewing, and status updates."
    },
    {
      "name": "Recommendations",
      "item": [
        {
          "name": "Get Recommendations - Hybrid (Default)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains recommendations\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"Each recommendation has required fields\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data.length > 0) {",
                  "        var rec = jsonData.data[0];",
                  "        pm.expect(rec.productId).to.exist;",
                  "        pm.expect(rec.score).to.exist;",
                  "        pm.expect(rec.reason).to.exist;",
                  "        pm.expect(rec.product).to.exist;",
                  "    }",
                  "});",
                  "",
                  "pm.test(\"Metadata indicates hybrid strategy\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.metadata.strategy).to.eql('hybrid');",
                  "    pm.expect(jsonData.metadata.personalized).to.eql(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/recommendations?limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "recommendations"],
              "query": [
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get personalized recommendations using hybrid strategy (40% collaborative + 40% content-based + 20% trending)."
          },
          "response": []
        },
        {
          "name": "Get Recommendations - With Category",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"All recommendations match category\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    jsonData.data.forEach(function(rec) {",
                  "        pm.expect(rec.product.category).to.eql('Electronics');",
                  "    });",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/recommendations?category=Electronics&limit=5",
              "host": ["{{base_url}}"],
              "path": ["api", "recommendations"],
              "query": [
                {
                  "key": "category",
                  "value": "Electronics"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "Get recommendations filtered by specific category."
          },
          "response": []
        },
        {
          "name": "Get Recommendations - Collaborative Filtering",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Metadata indicates collaborative strategy\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.metadata.strategy).to.eql('collaborative');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/recommendations?strategy=collaborative&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "recommendations"],
              "query": [
                {
                  "key": "strategy",
                  "value": "collaborative"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get recommendations based on similar users (collaborative filtering)."
          },
          "response": []
        },
        {
          "name": "Get Recommendations - Content-Based",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Metadata indicates content-based strategy\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.metadata.strategy).to.eql('content-based');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/recommendations?strategy=content-based&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "recommendations"],
              "query": [
                {
                  "key": "strategy",
                  "value": "content-based"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get recommendations based on your viewing history and preferences (content-based filtering)."
          },
          "response": []
        },
        {
          "name": "Get Recommendations - Unauthorized",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Error indicates unauthorized\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(false);",
                  "    pm.expect(jsonData.error).to.include('Unauthorized');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/recommendations",
              "host": ["{{base_url}}"],
              "path": ["api", "recommendations"]
            },
            "description": "Attempt to get recommendations without authentication."
          },
          "response": []
        }
      ],
      "description": "Personalized product recommendation endpoints with multiple strategies."
    },
    {
      "name": "Health & Monitoring",
      "item": [
        {
          "name": "Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Server is healthy\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data.status).to.eql('healthy');",
                  "});",
                  "",
                  "pm.test(\"Response contains system info\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.timestamp).to.exist;",
                  "    pm.expect(jsonData.data.uptime).to.exist;",
                  "    pm.expect(jsonData.data.memory).to.exist;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            },
            "description": "Check server health status, uptime, and memory usage."
          },
          "response": []
        },
        {
          "name": "404 - Route Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test(\"Error indicates route not found\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(false);",
                  "    pm.expect(jsonData.error).to.include('not found');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/invalid-route",
              "host": ["{{base_url}}"],
              "path": ["api", "invalid-route"]
            },
            "description": "Test 404 error handling for non-existent routes."
          },
          "response": []
        }
      ],
      "description": "Health monitoring and error testing endpoints."
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5000",
      "type": "string"
    }
  ]
}
